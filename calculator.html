<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #1f2937;
            margin: 0;
            padding: 20px;
            line-height: 1.5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 32px;
        }
        h1 {
            font-size: 24px;
            color: #111827;
            margin: 0 0 8px 0;
        }
        p {
            color: #6b7280;
            margin: 0;
        }
        .form-section {
            background: #f8fafc;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }
        .form-section h3 {
            margin: 0 0 16px 0;
            color: #1f2937;
            font-size: 16px;
            font-weight: 700;
        }
        .form-group {
            margin-bottom: 16px;
        }
        .form-group label {
            display: block;
            font-size: 14px;
            color: #374151;
            margin-bottom: 8px;
        }
        .form-control {
            width: 100%;
            padding: 10px;
            font-size: 14px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            box-sizing: border-box;
        }
        .form-control:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
        }
        .btn {
            background: #3b82f6;
            color: #fff;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background 0.2s;
        }
        .btn:hover {
            background: #2563eb;
        }
        .results {
            display: none;
            margin-top: 32px;
        }
        .results h3 {
            color: #1f2937;
            font-size: 18px;
            margin: 0 0 16px 0;
        }
        .result-card {
            background: #f8fafc;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }
        .result-card h4 {
            margin: 0 0 12px 0;
            font-size: 16px;
            font-weight: 700;
        }
        .result-card p {
            margin: 8px 0;
            color: #374151;
        }
        .alert {
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            margin-top: 12px;
        }
        .alert-warning {
            background: #fef3c7;
            border: 1px solid #fcd34d;
            color: #92400e;
        }
        .currency-section {
            background: #f0f9ff;
            border: 2px solid #0ea5e9;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }
        .currency-section h3 {
            margin: 0 0 16px 0;
            color: #0c4a6e;
            font-size: 16px;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞</h1>
            <p>–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞</p>
        </div>

        <div class="form-section">
            <h3>üë• –°–æ—Å—Ç–∞–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π</h3>
            <div class="checkbox-group">
                <input type="checkbox" id="hasRestrictedPerformers">
                <label for="hasRestrictedPerformers">–ï—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏–∑ —Å—Ç—Ä–∞–Ω —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏</label>
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="hasLegalEntityPerformers">
                <label for="hasLegalEntityPerformers">–ï—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏-—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞</label>
            </div>
        </div>

        <div class="currency-section">
            <h3>üí∞ –í–∞–ª—é—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="form-group">
                <label for="depositCurrency">–í–∞–ª—é—Ç–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                <select id="depositCurrency" class="form-control">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è...</option>
                    <option value="USD">üíµ USD</option>
                    <option value="EUR">üí∂ EUR</option>
                    <option value="USDT">‚ÇÆ USDT</option>
                    <option value="USDC">ü™ô USDC</option>
                    <option value="AMD">üá¶üá≤ AMD (–ê—Ä–º—è–Ω—Å–∫–∏–π –¥—Ä–∞–º)</option>
                    <option value="KGS">üá∞üá¨ KGS (–ö–∏—Ä–≥–∏–∑—Å–∫–∏–π —Å–æ–º)</option>
                    <option value="AED">üá¶üá™ AED (–î–∏—Ä—Ö–∞–º –û–ê–≠)</option>
                    <option value="GBP">üá¨üáß GBP (–§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤)</option>
                    <option value="HKD">üá≠üá∞ HKD (–ì–æ–Ω–∫–æ–Ω–≥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä)</option>
                </select>
                <div id="specialCurrencyWarning" class="alert alert-warning" style="display: none;">
                    ‚ÑπÔ∏è –î–æ—Å—Ç—É–ø–Ω–æ —Ä—É—á–Ω–æ–µ (!) –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ. –ó–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö –≤–∑–∏–º–∞–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è.
                </div>
            </div>
            <div class="form-group">
                <label for="taskCurrency">–í–∞–ª—é—Ç–∞ –∑–∞–¥–∞—á–∏</label>
                <select id="taskCurrency" class="form-control">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É –∑–∞–¥–∞—á–∏...</option>
                    <option value="USD">üíµ USD</option>
                    <option value="EUR">üí∂ EUR</option>
                    <option value="USDT">‚ÇÆ USDT</option>
                    <option value="RUB">üá∑üá∫ RUB</option>
                    <option value="BYN">üáßüáæ BYN</option>
                </select>
            </div>
        </div>

        <div id="exchangeSection" style="display: none; margin-bottom: 24px;"></div>

        <h2 style="color: #374151;">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞</h2>
        <div class="form-group">
            <label for="taskCommission">–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –∑–∞–¥–∞—á—É (%)</label>
            <input type="number" id="taskCommission" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 2.5" min="0" step="0.1">
        </div>
        <div class="form-group">
            <label for="exchangeFee">–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç (%)</label>
            <input type="number" id="exchangeFee" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 0.8" min="0" step="0.1">
        </div>
        <div class="form-group">
            <label for="withdrawalFee">–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã–≤–æ–¥ (%)</label>
            <input type="number" id="withdrawalFee" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 2.5" min="0" step="0.1">
        </div>
        <div class="form-group">
            <label for="performersCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π</label>
            <input type="number" id="performersCount" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10" min="1">
        </div>
        <div class="form-group">
            <label for="avgTaskValue">–°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–¥–∞—á–∏</label>
            <input type="number" id="avgTaskValue" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 1000" min="0">
        </div>

        <button class="btn" onclick="calculateRevenue()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

        <div class="results" id="results">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
            <div class="result-card">
                <h4 style="color: #92400e; margin: 0 0 12px 0;">–ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å</h4>
                <p id="commissionRevenue">–î–æ—Ö–æ–¥ –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏: $0</p>
                <p id="commissionExchange">–î–æ—Ö–æ–¥ –æ—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç: $0</p>
                <p id="commissionWithdrawal">–î–æ—Ö–æ–¥ –æ—Ç –≤—ã–≤–æ–¥–∞: $0</p>
                <p id="commissionTotal">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞: $0</p>
                <p id="commissionRouteCost">–°—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞: 0%</p>
            </div>
        </div>
    </div>

    <script>
        // –ú–∞—Å—Å–∏–≤ –≤–∞–ª—é—Ç, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
        const specialCurrencies = ['AMD', 'KGS', 'AED', 'GBP', 'HKD'];

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
        document.getElementById('depositCurrency').addEventListener('change', function() {
            const warning = document.getElementById('specialCurrencyWarning');
            warning.style.display = specialCurrencies.includes(this.value) ? 'block' : 'none';
            updateExchangeOptions();
            if (document.getElementById('results').style.display !== 'none') {
                calculateRevenue();
            }
        });

        document.getElementById('taskCurrency').addEventListener('change', function() {
            updateExchangeOptions();
            if (document.getElementById('results').style.display !== 'none') {
                calculateRevenue();
            }
        });

        function updateExchangeOptions() {
            const from = document.getElementById('depositCurrency').value;
            const to = document.getElementById('taskCurrency').value;
            const exchangeSection = document.getElementById('exchangeSection');
            const exchangeFeeInput = document.getElementById('exchangeFee');

            if (!from || !to || from === to) {
                exchangeSection.style.display = 'none';
                exchangeFeeInput.readOnly = false;
                exchangeFeeInput.value = 0;
                return;
            }

            exchangeSection.style.display = 'block';
            exchangeSection.innerHTML = '';
            let isManual = true;

            if (['USD', 'EUR'].includes(from) && to === 'RUB') {
                isManual = false;
                const h3 = document.createElement('h3');
                h3.textContent = '–ò—Å—Ç–æ—á–Ω–∏–∫ –∫—É—Ä—Å–∞ –æ–±–º–µ–Ω–∞';
                exchangeSection.appendChild(h3);

                const select = document.createElement('select');
                select.id = 'exchangeSource';
                select.className = 'form-control';
                const opt1 = document.createElement('option');
                opt1.value = '4.95';
                opt1.textContent = '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫—É—Ä—Å –±–∞–Ω–∫–∞ –¶–ë + –∫–æ–º–∏—Å—Å–∏—è 4.95%';
                select.appendChild(opt1);
                exchangeSection.appendChild(select);

                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = 'showLgot';
                const label = document.createElement('label');
                label.htmlFor = 'showLgot';
                label.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –ª—å–≥–æ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç';
                const divCheck = document.createElement('div');
                divCheck.className = 'checkbox-group';
                divCheck.appendChild(checkbox);
                divCheck.appendChild(label);
                exchangeSection.appendChild(divCheck);

                const lgotWarning = document.createElement('div');
                lgotWarning.className = 'alert alert-warning';
                lgotWarning.style.display = 'none';
                lgotWarning.textContent = '–õ—å–≥–æ—Ç–Ω—ã–π –∫—É—Ä—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –æ–±–æ—Ä–æ—Ç–µ –æ—Ç 50 000$ –≤ –º–µ—Å—è—Ü';
                exchangeSection.appendChild(lgotWarning);

                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        const opt2 = document.createElement('option');
                        opt2.value = '3';
                        opt2.textContent = '–õ—å–≥–æ—Ç–Ω—ã–π –∫—É—Ä—Å (Forex) + –∫–æ–º–∏—Å—Å–∏—è 3%';
                        select.appendChild(opt2);
                        lgotWarning.style.display = 'block';
                    } else {
                        if (select.options.length > 1) {
                            select.remove(1);
                        }
                        lgotWarning.style.display = 'none';
                    }
                    setExchangeFee(select.value);
                });

                select.addEventListener('change', function() {
                    setExchangeFee(this.value);
                });

                setExchangeFee('4.95');
            } else if ((from === 'USD' && to === 'EUR') || (from === 'EUR' && to === 'USD')) {
                isManual = false;
                const h3 = document.createElement('h3');
                h3.textContent = '–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –æ–±–º–µ–Ω';
                exchangeSection.appendChild(h3);

                const select = document.createElement('select');
                select.id = 'exchangeSource';
                select.className = 'form-control';
                ['2.213', '2'].forEach(f => {
                    const opt = document.createElement('option');
                    opt.value = f;
                    opt.textContent = `–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫—É—Ä—Å –ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ –¶–ë + ${f}%`;
                    select.appendChild(opt);
                });
                exchangeSection.appendChild(select);

                select.addEventListener('change', function() {
                    setExchangeFee(this.value);
                });

                setExchangeFee('2.213');
            } else if (from === 'USD' && to === 'USDT') {
                isManual = false;
                const h3 = document.createElement('h3');
                h3.textContent = '–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –æ–±–º–µ–Ω (–Ω–µ—Ç –±–∏—Ä–∂–µ–≤–æ–≥–æ –∫—É—Ä—Å–∞)';
                exchangeSection.appendChild(h3);

                const select = document.createElement('select');
                select.id = 'exchangeSource';
                select.className = 'form-control';
                ['0', '2.2', '2', '1', '0.8'].forEach(f => {
                    const opt = document.createElement('option');
                    opt.value = f;
                    opt.textContent = `${f}%`;
                    select.appendChild(opt);
                });
                exchangeSection.appendChild(select);

                select.addEventListener('change', function() {
                    setExchangeFee(this.value);
                });

                setExchangeFee('0');
            } else if (from === 'EUR' && to === 'USDT') {
                isManual = false;
                const h3 = document.createElement('h3');
                h3.textContent = '–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –æ–±–º–µ–Ω —á–µ—Ä–µ–∑ USD';
                exchangeSection.appendChild(h3);

                const select = document.createElement('select');
                select.id = 'exchangeSource';
                select.className = 'form-control';
                ['4.413', '4.2', '4', '3.213', '3', '2.8'].forEach(f => {
                    const opt = document.createElement('option');
                    opt.value = f;
                    opt.textContent = `${f}%`;
                    select.appendChild(opt);
                });
                exchangeSection.appendChild(select);

                select.addEventListener('change', function() {
                    setExchangeFee(this.value);
                });

                setExchangeFee('4.413');
            }

            if (isManual) {
                const h3 = document.createElement('h3');
                h3.textContent = '–†—É—á–Ω–æ–π –æ–±–º–µ–Ω –≤–∞–ª—é—Ç';
                exchangeSection.appendChild(h3);

                const warning = document.createElement('div');
                warning.className = 'alert alert-warning';
                warning.textContent = '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –æ–±–º–µ–Ω. –ö–æ–º–∏—Å—Å–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ.';
                exchangeSection.appendChild(warning);

                exchangeFeeInput.readOnly = false;
            } else {
                exchangeFeeInput.readOnly = true;
            }
        }

        function setExchangeFee(value) {
            document.getElementById('exchangeFee').value = value;
            if (document.getElementById('results').style.display !== 'none') {
                calculateRevenue();
            }
        }

        function calculateRevenue() {
            const performersCount = parseInt(document.getElementById('performersCount').value) || 0;
            const avgTaskValue = parseFloat(document.getElementById('avgTaskValue').value) || 0;
            const taskCommission = parseFloat(document.getElementById('taskCommission').value) || 0;
            const exchangeFee = parseFloat(document.getElementById('exchangeFee').value) || 0;
            const withdrawalFee = parseFloat(document.getElementById('withdrawalFee').value) || 0;

            if (performersCount === 0 || avgTaskValue === 0) {
                document.getElementById('results').style.display = 'none';
                return;
            }

            const totalTaskValue = performersCount * avgTaskValue;

            // –ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
            const commissionRevenue = totalTaskValue * (taskCommission / 100);
            const commissionExchange = totalTaskValue * (exchangeFee / 100);
            const commissionWithdrawal = totalTaskValue * (withdrawalFee / 100);
            const commissionTotal = commissionRevenue + commissionExchange + commissionWithdrawal;
            const commissionRouteCost = (commissionTotal / totalTaskValue) * 100;

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('commissionRevenue').textContent = `–î–æ—Ö–æ–¥ –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏: $${commissionRevenue.toFixed(2)}`;
            document.getElementById('commissionExchange').textContent = `–î–æ—Ö–æ–¥ –æ—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç: $${commissionExchange.toFixed(2)}`;
            document.getElementById('commissionWithdrawal').textContent = `–î–æ—Ö–æ–¥ –æ—Ç –≤—ã–≤–æ–¥–∞: $${commissionWithdrawal.toFixed(2)}`;
            document.getElementById('commissionTotal').textContent = `–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞: $${commissionTotal.toFixed(2)}`;
            document.getElementById('commissionRouteCost').textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞: ${commissionRouteCost.toFixed(2)}%`;

            document.getElementById('results').style.display = 'block';
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–ª–µ–π
        ['performersCount', 'avgTaskValue', 'taskCommission', 'exchangeFee', 'withdrawalFee'].forEach(id => {
            document.getElementById(id).addEventListener('input', function() {
                if (document.getElementById('results').style.display !== 'none') {
                    calculateRevenue();
                }
            });
        });
    </script>
</body>
</html>