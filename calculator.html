<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø—Ä–æ–¥–∞–∂</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
            font-weight: 700;
        }
        .header p {
            margin: 0;
            opacity: 0.9;
            font-size: 16px;
        }
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }
        .input-panel {
            padding: 30px;
            background: #f8fafc;
            border-right: 1px solid #e2e8f0;
        }
        .results-panel {
            padding: 30px;
            background: white;
        }
        .form-group {
            margin-bottom: 24px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
            background: white;
        }
        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .btn-calculate {
            width: 100%;
            padding: 16px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 24px;
        }
        .btn-calculate:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }
        .btn-calculate:active {
            transform: translateY(0);
        }
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
        }
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-top: 8px;
            font-size: 14px;
            font-weight: 500;
        }
        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fcd34d;
        }
        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }
        .alert-danger {
            background: #fee2e2;
            color: #dc2626;
            border: 1px solid #fca5a5;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        .results-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }
        .results-card h3 {
            margin: 0 0 16px 0;
            color: #0c4a6e;
            font-size: 18px;
            font-weight: 700;
        }
        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #bae6fd;
        }
        .cost-item:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 16px;
            color: #0c4a6e;
            margin-top: 8px;
            padding-top: 16px;
            border-top: 2px solid #0ea5e9;
        }
        .cost-label {
            color: #164e63;
        }
        .cost-value {
            font-weight: 600;
            color: #0c4a6e;
        }
        .comparison-card {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 2px solid #22c55e;
            border-radius: 12px;
            padding: 24px;
        }
        .comparison-card h3 {
            margin: 0 0 16px 0;
            color: #14532d;
            font-size: 18px;
            font-weight: 700;
        }
        .comparison-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #bbf7d0;
        }
        .comparison-row:last-child {
            border-bottom: none;
        }
        .model-name {
            font-weight: 600;
            color: #166534;
        }
        .model-cost {
            font-weight: 700;
            font-size: 16px;
            color: #14532d;
        }
        .savings {
            background: #dcfce7;
            color: #166534;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 600;
            text-align: center;
            margin-top: 16px;
        }
        .disabled {
            opacity: 0.5;
            pointer-events: none;
        }
        .input-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 16px;
            align-items: end;
        }
        .currency-display {
            font-size: 12px;
            color: #6b7280;
            margin-top: 4px;
        }
        .revenue-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }
        .revenue-card h3 {
            margin: 0 0 16px 0;
            color: #92400e;
            font-size: 18px;
            font-weight: 700;
        }
        .route-cost-card {
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            border: 2px solid #8b5cf6;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }
        .route-cost-card h3 {
            margin: 0 0 16px 0;
            color: #5b21b6;
            font-size: 18px;
            font-weight: 700;
        }
        .subscription-disabled {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border: 2px solid #9ca3af;
            opacity: 0.7;
        }
        .subscription-disabled h3 {
            color: #6b7280;
        }
        .subscription-disabled .cost-label,
        .subscription-disabled .cost-value {
            color: #9ca3af;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø—Ä–æ–¥–∞–∂</h1>
            <p>–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞</p>
        </div>
        
        <div class="content">
            <div class="input-panel">
                <h2 style="margin-top: 0; color: #374151;">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞</h2>
                
                <div class="form-group">
                    <label for="performers">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π</label>
                    <input type="number" id="performers" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 10" min="1">
                </div>

                <div class="form-group">
                    <label for="avgPayout">–°—Ä–µ–¥–Ω—è—è –≤—ã–ø–ª–∞—Ç–∞ ($)</label>
                    <input type="number" id="avgPayout" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1000" min="0" step="100">
                </div>

                <div class="form-group">
                    <label for="subscription">–ü–æ–¥–ø–∏—Å–∫–∞ ($)</label>
                    <input type="number" id="subscription" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 20" min="0" step="1">
                </div>

                <div class="form-group">
                    <label for="taskCommission">–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –∑–∞–¥–∞—á—É (%)</label>
                    <input type="number" id="taskCommission" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2.5" min="0" max="100" step="0.1">
                </div>

                <div class="form-group">
                    <label for="exchangeRate">–û–±–º–µ–Ω –≤–∞–ª—é—Ç (%)</label>
                    <input type="number" id="exchangeRate" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 0.8" min="0" max="100" step="0.1">
                </div>

                <div class="form-group">
                    <label for="withdrawalFee">–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã–≤–æ–¥ (%)</label>
                    <input type="number" id="withdrawalFee" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2.5" min="0" max="100" step="0.1">
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="companyPaysWithdrawal">
                        <label for="companyPaysWithdrawal">–ö–æ–º–ø–∞–Ω–∏—è –ø–ª–∞—Ç–∏—Ç –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—ã–≤–æ–¥</label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="hasRestrictedPerformers">
                        <label for="hasRestrictedPerformers">–£ –∫–æ–º–ø–∞–Ω–∏–∏ –µ—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏–∑ –†–§ / –†–ë / –£–∫—Ä–∞–∏–Ω—ã</label>
                    </div>
                    <div id="restrictedPerformersWarning" class="alert alert-danger" style="display: none;">
                        ‚ö†Ô∏è –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="hasLegalEntityPerformers">
                        <label for="hasLegalEntityPerformers">–£ –∫–æ–º–ø–∞–Ω–∏–∏ –µ—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –Æ–õ</label>
                    </div>
                    <div id="legalEntityWarning" class="alert alert-danger" style="display: none;">
                        ‚ö†Ô∏è –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –Æ–õ
                    </div>
                </div>

                <button class="btn-calculate" onclick="calculateRevenue()">
                    üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å
                </button>
            </div>

            <div class="results-panel">
                <h2 style="margin-top: 0; color: #374151;">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h2>
                
                <div id="results" style="display: none;">
                    <div id="revenueResults" class="revenue-card">
                        <h3>üí∞ –ù–∞—à–∞ –≤—ã—Ä—É—á–∫–∞</h3>
                        <div id="revenueCosts"></div>
                    </div>

                    <div id="routeCostResults" class="route-cost-card">
                        <h3>üìä –°—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏</h3>
                        <div id="routeCosts"></div>
                    </div>

                    <div id="comparison" class="comparison-card">
                        <h3>‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</h3>
                        <div id="comparisonContent"></div>
                    </div>
                </div>

                <div id="placeholder" class="alert alert-info">
                    üëà –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"
                </div>
            </div>
        </div>
    </div>

    <script>
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
        document.getElementById('hasRestrictedPerformers').addEventListener('change', function() {
            const warning = document.getElementById('restrictedPerformersWarning');
            warning.style.display = this.checked ? 'block' : 'none';
            
            // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω—ã
            if (document.getElementById('results').style.display !== 'none') {
                calculateRevenue();
            }
        });

        document.getElementById('hasLegalEntityPerformers').addEventListener('change', function() {
            const warning = document.getElementById('legalEntityWarning');
            warning.style.display = this.checked ? 'block' : 'none';
            
            // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω—ã
            if (document.getElementById('results').style.display !== 'none') {
                calculateRevenue();
            }
        });

        function isSubscriptionAvailable() {
            const hasRestrictedPerformers = document.getElementById('hasRestrictedPerformers').checked;
            const hasLegalEntityPerformers = document.getElementById('hasLegalEntityPerformers').checked;
            
            return !hasRestrictedPerformers && !hasLegalEntityPerformers;
        }

        function calculateRevenue() {
            // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ñ–æ—Ä–º—ã
            const performers = parseInt(document.getElementById('performers').value) || 0;
            const avgPayout = parseFloat(document.getElementById('avgPayout').value) || 0;
            const subscription = parseFloat(document.getElementById('subscription').value) || 0;
            const taskCommission = parseFloat(document.getElementById('taskCommission').value) || 0;
            const exchangeRate = parseFloat(document.getElementById('exchangeRate').value) || 0;
            const withdrawalFee = parseFloat(document.getElementById('withdrawalFee').value) || 0;
            const companyPaysWithdrawal = document.getElementById('companyPaysWithdrawal').checked;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
            if (performers === 0 || avgPayout === 0) {
                document.getElementById('results').style.display = 'none';
                document.getElementById('placeholder').style.display = 'block';
                return;
            }

            const subscriptionAvailable = isSubscriptionAvailable();

            // –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
            const totalPayout = performers * avgPayout; // 10 * 1000 = 10000
            
            // –î–æ—Ö–æ–¥ –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞ –∑–∞–¥–∞—á—É
            const taskCommissionIncome = performers * avgPayout * (taskCommission / 100);
            
            // –î–æ—Ö–æ–¥ –æ—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç
            const exchangeIncome = totalPayout * (exchangeRate / 100);
            
            // –î–æ—Ö–æ–¥ –æ—Ç –æ–ø–ª–∞—Ç—ã –≤—ã–≤–æ–¥–∞ (–µ—Å–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è –ø–ª–∞—Ç–∏—Ç)
            const withdrawalIncome = companyPaysWithdrawal ? totalPayout * (withdrawalFee / 100) : 0;
            
            // –û–±—â–∏–π –¥–æ—Ö–æ–¥ –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏
            const commissionRevenue = taskCommissionIncome + exchangeIncome + withdrawalIncome;

            // –†–∞—Å—á–µ—Ç –ø–æ–¥–ø–∏—Å–æ—á–Ω–æ–π –º–æ–¥–µ–ª–∏ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
            let subscriptionIncome = 0;
            let subscriptionRevenue = 0;
            let subscriptionRouteCost = 0;
            
            if (subscriptionAvailable && subscription > 0) {
                subscriptionIncome = subscription * performers;
                subscriptionRevenue = subscriptionIncome + exchangeIncome + withdrawalIncome;
                subscriptionRouteCost = (subscriptionRevenue / totalPayout) * 100;
            }

            // –°—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
            const commissionRouteCost = (commissionRevenue / totalPayout) * 100;

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            displayCalculationResults({
                performers,
                avgPayout,
                subscription,
                taskCommission,
                exchangeRate,
                withdrawalFee,
                companyPaysWithdrawal,
                totalPayout,
                taskCommissionIncome,
                exchangeIncome,
                withdrawalIncome,
                commissionRevenue,
                subscriptionIncome,
                subscriptionRevenue,
                commissionRouteCost,
                subscriptionRouteCost,
                subscriptionAvailable
            });
        }

        function displayCalculationResults(data) {
            document.getElementById('results').style.display = 'block';
            document.getElementById('placeholder').style.display = 'none';

            // –î–æ—Ö–æ–¥—ã
            let subscriptionSection = '';
            if (data.subscriptionAvailable && data.subscription > 0) {
                subscriptionSection = `
                    <h4 style="color: #92400e; margin: 16px 0 12px 0;">–ü–æ–¥–ø–∏—Å–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å:</h4>
                    <div class="cost-item">
                        <span class="cost-label">–î–æ—Ö–æ–¥ –æ—Ç –ø–æ–¥–ø–∏—Å–∫–∏</span>
                        <span class="cost-value">$${data.subscriptionIncome.toFixed(2)}</span>
                    </div>
                    <div class="cost-item">
                        <span class="cost-label">–î–æ—Ö–æ–¥ –æ—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç</span>
                        <span class="cost-value">$${data.exchangeIncome.toFixed(2)}</span>
                    </div>
                    ${data.companyPaysWithdrawal ? `
                    <div class="cost-item">
                        <span class="cost-label">–î–æ—Ö–æ–¥ –æ—Ç –æ–ø–ª–∞—Ç—ã –≤—ã–≤–æ–¥–∞</span>
                        <span class="cost-value">$${data.withdrawalIncome.toFixed(2)}</span>
                    </div>` : ''}
                    <div class="cost-item">
                        <span class="cost-label">–ò–¢–û–ì–û –¥–æ—Ö–æ–¥ –æ—Ç –ø–æ–¥–ø–∏—Å–∫–∏</span>
                        <span class="cost-value">$${data.subscriptionRevenue.toFixed(2)}</span>
                    </div>
                `;
            } else if (!data.subscriptionAvailable) {
                subscriptionSection = `
                    <h4 style="color: #dc2626; margin: 16px 0 12px 0;">–ü–æ–¥–ø–∏—Å–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å:</h4>
                    <div class="alert alert-danger">
                        ‚ùå –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –¥–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
                    </div>
                `;
            }

            document.getElementById('revenueCosts').innerHTML = `
                <h4 style="color: #92400e; margin: 0 0 12px 0;">–ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:</h4>
                <div class="cost-item">
                    <span class="cost-label">–î–æ—Ö–æ–¥ –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞ –∑–∞–¥–∞—á–∏</span>
                    <span class="cost-value">$${data.taskCommissionIncome.toFixed(2)}</span>
                </div>
                <div class="cost-item">
                    <span class="cost-label">–î–æ—Ö–æ–¥ –æ—Ç –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç</span>
                    <span class="cost-value">$${data.exchangeIncome.toFixed(2)}</span>
                </div>
                ${data.companyPaysWithdrawal ? `
                <div class="cost-item">
                    <span class="cost-label">–î–æ—Ö–æ–¥ –æ—Ç –æ–ø–ª–∞—Ç—ã –≤—ã–≤–æ–¥–∞</span>
                    <span class="cost-value">$${data.withdrawalIncome.toFixed(2)}</span>
                </div>` : ''}
                <div class="cost-item">
                    <span class="cost-label">–ò–¢–û–ì–û –¥–æ—Ö–æ–¥ –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏</span>
                    <span class="cost-value">$${data.commissionRevenue.toFixed(2)}</span>
                </div>
                ${subscriptionSection}
            `;

            // –°—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
            let routeCostContent = `
                <div class="cost-item">
                    <span class="cost-label">–û–±—â–∏–µ –≤—ã–ø–ª–∞—Ç—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º</span>
                    <span class="cost-value">$${data.totalPayout.toFixed(2)}</span>
                </div>
                <div class="cost-item">
                    <span class="cost-label">–ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                    <span class="cost-value">${data.commissionRouteCost.toFixed(2)}%</span>
                </div>
            `;

            if (data.subscriptionAvailable && data.subscription > 0) {
                routeCostContent += `
                    <div class="cost-item">
                        <span class="cost-label">–ü–æ–¥–ø–∏—Å–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                        <span class="cost-value">${data.subscriptionRouteCost.toFixed(2)}%</span>
                    </div>
                `;
            } else {
                routeCostContent += `
                    <div class="cost-item">
                        <span class="cost-label">–ü–æ–¥–ø–∏—Å–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                        <span class="cost-value" style="color: #dc2626;">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–∞</span>
                    </div>
                `;
            }

            document.getElementById('routeCosts').innerHTML = routeCostContent;

            // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
            if (data.subscriptionAvailable && data.subscription > 0) {
                const revenueDifference = data.commissionRevenue - data.subscriptionRevenue;
                const routeCostDifference = data.commissionRouteCost - data.subscriptionRouteCost;
                
                document.getElementById('comparisonContent').innerHTML = `
                    <div class="comparison-row">
                        <span class="model-name">–ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                        <span class="model-cost">$${data.commissionRevenue.toFixed(2)} (${data.commissionRouteCost.toFixed(2)}%)</span>
                    </div>
                    <div class="comparison-row">
                        <span class="model-name">–ü–æ–¥–ø–∏—Å–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                        <span class="model-cost">$${data.subscriptionRevenue.toFixed(2)} (${data.subscriptionRouteCost.toFixed(2)}%)</span>
                    </div>
                    <div class="savings">
                        ${revenueDifference > 0 ? 
                            `üí∞ –ö–æ–º–∏—Å—Å–∏—è –≤—ã–≥–æ–¥–Ω–µ–µ –Ω–∞: $${revenueDifference.toFixed(2)} (+${routeCostDifference.toFixed(2)}%)` :
                            `üìà –ü–æ–¥–ø–∏—Å–∫–∞ –≤—ã–≥–æ–¥–Ω–µ–µ –Ω–∞: $${Math.abs(revenueDifference).toFixed(2)} (-${Math.abs(routeCostDifference).toFixed(2)}%)`
                        }
                    </div>
                `;
            } else {
                document.getElementById('comparisonContent').innerHTML = `
                    <div class="comparison-row">
                        <span class="model-name">–ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                        <span class="model-cost">$${data.commissionRevenue.toFixed(2)} (${data.commissionRouteCost.toFixed(2)}%)</span>
                    </div>
                    <div class="comparison-row">
                        <span class="model-name">–ü–æ–¥–ø–∏—Å–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å</span>
                        <span class="model-cost" style="color: #dc2626;">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–∞</span>
                    </div>
                    <div class="alert alert-info" style="margin-top: 16px;">
                        ‚ÑπÔ∏è –î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
                    </div>
                `;
            }
        }

        // –†–∞—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —á–µ–∫–±–æ–∫—Å–∞
        document.getElementById('companyPaysWithdrawal').addEventListener('change', function() {
            if (document.getElementById('results').style.display !== 'none') {
                calculateRevenue();
            }
        });
    </script>
</body>
</html>